<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Pronunciation Challenge</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#0f172a;
  color:white;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  text-align:center;
}
.container{
  width:90%;
  max-width:500px;
}
h1{
  margin-bottom:10px;
}
.word{
  font-size:40px;
  margin:20px 0;
}
button{
  padding:15px 25px;
  border:none;
  border-radius:12px;
  font-size:18px;
  cursor:pointer;
  background:#2563eb;
  color:white;
}
button:active{
  transform:scale(.95);
}
.result{
  margin-top:20px;
  font-size:20px;
}
.score{
  margin-top:10px;
  font-size:18px;
  color:#38bdf8;
}
</style>
</head>

<body>

<div class="container">
  <h1>üé§ Pronunciation Challenge</h1>
  <div class="word" id="word">Loading...</div>
  <button onclick="startListening()">Speak</button>
  <div class="result" id="result"></div>
  <div class="score" id="score">Score: 0</div>
</div>

<script>

const WORDS = [
  "cat","dog","car","sun","book","ball","milk","fish","tree","moon",
  "star","red","blue","green","happy","sad","run","jump","play","eat",
  "water","apple","banana","school","teacher","friend","house","bed","door","phone"
];

let currentWord = "";
let score = 0;

function getRandomWord(){
  currentWord = WORDS[Math.floor(Math.random()*WORDS.length)];
  document.getElementById("word").textContent = currentWord;
  speakWord(currentWord);
}

function speakWord(word){
  const u = new SpeechSynthesisUtterance(word);
  u.lang = "en-US";
  u.rate = 0.75;
  u.pitch = 1.0;
  speechSynthesis.cancel();
  speechSynthesis.speak(u);
}

function startListening(){
  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

  if(!SpeechRecognition){
    alert("Speech recognition not supported on this browser.");
    return;
  }

  const recog = new SpeechRecognition();
  recog.lang = "en-US";
  recog.interimResults = false;

  recog.start();

  recog.onresult = function(event){
    const spoken = event.results[0][0].transcript
      .toLowerCase()
      .trim();

    if(spoken === currentWord.toLowerCase()){
      score += 10;
      document.getElementById("result").textContent = "Perfect! üéâ";
      document.getElementById("score").textContent = "Score: " + score;
      setTimeout(getRandomWord, 1000);
    }else{
      document.getElementById("result").textContent = "Try again üîÅ (You said: " + spoken + ")";
    }
  };
}

window.onload = getRandomWord;

</script>

</body>
</html>
